{% extends 'layout.html' %}
{% block content %}

<form method="get" action="{{url_for('index')}}" class= "mb-3">
    <input type="text" name="q" class="form-control" placeholder="Search..." value="{{query}}">
</form>
<a href="{{ url_for('add') }}" class="btn btn-success mb-3">Add Contact</a>

<table class="table table-bordered">
    <thead><tr><th>Name</th><th>fathername</th><th>fathermobile</th><th>fatheremail</th><th>mothername</th><th>mothermobile</th><th>motheremail</th><th>Address</th><th>Action</th></tr></thead>
    <tbody>
    {% for contact in contacts.items %}
        <tr>
            <td>{{ contact.name }}</td>
            <td>{{ contact.fathername }}</td>
            <td>{{ contact.fathermobile }}</td>
            <td>{{ contact.fatheremail }}</td>
            <td>{{ contact.mothername }}</td>
            <td>{{ contact.mothermobile }}</td>
            <td>{{ contact.motheremail }}</td>
            <td>{{ contact.address }}</td>
            <td>
                <a href="{{ url_for('edit', id=contact.id) }}" class="btn btn-sm btn-primary">Edit</a>
                <a href="{{ url_for('delete', id=contact.id) }}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this contact?')">Delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<nav>
  <ul class="pagination">
    {% for page_num in range(1, total_pages+1) %}
      <li class="page-item {% if contacts.page == page_num %}active{% endif %}">
        <a class="page-link" href="{{ url_for('index', page=page_num, q=query) }}">{{ page_num }}</a>
      </li>
    {% endfor %}
  </ul>
</nav>
{% endblock %}"></a>